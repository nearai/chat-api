# Determine whether to mock attestation
DEV=false

# Server Configuration
SERVER_HOST=0.0.0.0
SERVER_PORT=8081

# Database Configuration
DATABASE_HOST=localhost
DATABASE_PORT=5432
DATABASE_NAME=chat_api
DATABASE_USER=postgres
DATABASE_PASSWORD=postgres
DATABASE_MAX_CONNECTIONS=10
DATABASE_TLS_ENABLED=false
# DATABASE_TLS_CA_CERT_PATH=/path/to/ca-cert.pem  # Optional, for custom CA certificates

# Patroni Configuration (optional, for production clusters)
# Leave DATABASE_PRIMARY_APP_ID empty to use simple postgres connection
# DATABASE_PRIMARY_APP_ID=postgres-primary  # App ID for Patroni cluster discovery
# DATABASE_REFRESH_INTERVAL=30  # Cluster state refresh interval in seconds
# DATABASE_MOCK=false  # Set to true to use mock database for testing

# OAuth Configuration - Google
GOOGLE_CLIENT_ID=your-google-client-id
GOOGLE_CLIENT_SECRET=your-google-client-secret

# OAuth Configuration - Github
GITHUB_CLIENT_ID=your-github-client-id
GITHUB_CLIENT_SECRET=your-github-client-secret

# OAuth Redirect URI (base URL for OAuth callbacks from providers)
REDIRECT_URI=http://localhost:8081

# Admin Configuration
# Comma-separated list of email domains that are granted admin access
# Example: near.ai,admin.org
AUTH_ADMIN_DOMAINS=

# Frontend URL (where to redirect users after authentication)
FRONTEND_URL=http://localhost:3000

# OpenAI API Configuration
# You can set the API key directly, from a file, or via VPC authentication
OPENAI_API_KEY=sk-your-openai-api-key
# OPENAI_API_KEY_FILE=/path/to/api-key-file  # Optional, reads API key from file (takes precedence over OPENAI_API_KEY)
# OPENAI_BASE_URL=https://api.openai.com/v1  # Optional, defaults to OpenAI

# VPC Authentication (optional, for confidential VMs)
# When VPC_SHARED_SECRET_FILE is set, the API key will be obtained dynamically via VPC authentication
# This takes precedence over OPENAI_API_KEY and OPENAI_API_KEY_FILE
# VPC_SHARED_SECRET_FILE=/config/keyfile  # Path to the VPC shared secret file
# VPC_CLIENT_ID=chat-api-client  # Client ID for VPC authentication (defaults to chat-api-client)

# Logging Level (optional, defaults to info)
RUST_LOG=info,api=debug,services=debug,database=debug

# CORS Configuration (comma-separated list of allowed origins)
# For development, you can use: http://localhost:3000,http://localhost:3001
# For production, use your actual frontend domains: https://app.yourdomain.com
CORS_ALLOWED_ORIGINS=http://localhost:3000

# NEAR Authentication (NEP-413)
# Expected recipient for signed messages (defaults to private.near.ai)
NEAR_EXPECTED_RECIPIENT=private.near.ai
